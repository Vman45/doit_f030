<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.12.2003 -->
<html>
<head>
<title>
DOITF030 - Tips u. Tricks zum Atari Falcon F030: Testkit
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="support@doitarchive.de">
<link rev=made href="mailto:support@doitarchive.de" title="E-Mail">
<link rel=home href="index.html" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_up.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_lf.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="030802.htm" target="UDOcon"><img src="udo_rg.gif" alt="FPU Error Trace" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="Testkit">3.8.1 Testkit</a></h1>
<p align=center><img src="image/line.gif" border=0 width="637" height="6"></p><br>
<p><tt> Falcon Repair and Diagnostic Testkit </tt>
<br>
</p>
<p>Das Falcon Testmodul ist ein letztes Testkit in einer Serie von
Diagnosemodulen f&uuml;r ST, STe und Atari TT Computer. Diese letzte
Release der Testsoftware enth&auml;lt einige spezielle Routinen die
nur am Atari <a href="0302.htm" target="UDOcon">Falcon F030</a> verwendung finden. Das Testkit wurde
hergestellt um die <a href="0308.htm" target="UDOcon">Fehlersuche</a> an defekten Atari-Computern zu
erleichtern und schnell defekte Systemkomponenten ausfindig zu machen.
<br>
</p>
<p>Eine Quelle f&uuml;r zumindest das Romportmodul ist
<a href="1601.htm" target="UDOcon">BEST-Electronics</a>.
<br>
</p>
<p>Beachten Sie bitte das Romportmodule nur gesteckt werden wenn der
entsprechende Computer ausgeschaltet ist. Das trifft also auch auf das
Testmodul zu. Ein Testmodul besteht aus einer Platine welche zwei
Sockel f&uuml;r zwei St&uuml;ck 27C256 Proms tr&auml;gt, dieses sog.
128K-Modul reicht aus um die Teststoftware f&uuml;r Atari Falcon
Computer unterzubringen. Auch unterteilt sich das in die unteren und
die oberen 8-Bit. Also jeweils ein Prom mit den LOW- und eines mit den
HIGH-Daten die zusammen 16 Bit Datenbreite ergeben die auch so am
<a href="0c09.htm" target="UDOcon">Romport</a> gelesen werden.
</p>
<p>Entfernen Sie niemals das Modul bei eingeschaltetem Rechner. So
vermeiden Sie teuere Sch&auml;den an ihrem System. Wie bei allen
Atari-Computern liegt auch am Falcon der Systembus ungepuffert am
<a href="0c09.htm" target="UDOcon">Romport</a> an.
</p>
<p>Alle Testkits sind Men&uuml;gesteuert. Nach dem Einstecken eines
Moduls und dem Einschalten des Computers wird die Testsoftware vom
Modul/Cardridge direkt geladen. Der Falcon bootet von diesem Modul.
Hierzu gen&uuml;gen bereits 2 KB aktives Ram im Ger&auml;t. Eben in
diesem Moment werden schon die ersten Tests durchgef&uuml;hrt und
zeigen dem Benutzer weitere Probleme mit einem roten Bildschirm an.
Ist kein RAM verf&uuml;gbar kann das Testkit nicht arbeiten!
</p>
<p>Ein solches Testkit &uuml;berpr&uuml;ft den Rechner in
verschiedenen Schritten die alle ein eigenes Men&uuml; haben. Die
entsprechenden Diagnosergebnisse werden auf dem Bildschirm angezeigt
oder Anhand der entsprechende Bildschirm-Hintergrundfarbe angezeigt.
</p>
<p>Unterteilt sind die Tests in automatisch ablaufende und in Tests
die die Aufmerksamkeit des Benutzers erfordern. Automatisch laufende
Tests dienen so auch dem Dauertest bestimmter Baugruppen oder auch den
sog. &quot;Burn In&quot; bei neuen Ger&auml;ten.
</p>
<p>Eine der Hauptgruppen ist der umfassende Speicher- und
Taktratentest.
</p>
<p>Jederzeit wird von diesem Testkit die serielle Schnittstelle
&uuml;berwacht. Das dient f&uuml;r den Fall das am zu testenden Falcon
die Tastatur oder/und auch der Bildschirm ausgefallen ist.
S&auml;mmtliche Bildschirmausgaben werden so an einen weiteren Atari
gesendet der hier dann als Terminal fungiert.
</p>
<p>Ein Falcon-Testkit kann man bei der Fa. Best-Electronics f&uuml;r
ca. 80$ US erwerben. Um ein vollst&auml;ndiges Testkit zu erwerben
sind noch einige Schnittstellenadapter notwendig die u.A aber auch
selber Hergestellt werden k&ouml;nnen.
</p>
<pre>Falcon diagnostic parts
---------------------------------
RS 232 loop back           $ 8.00
Midi loop back             $ 4.00
Lan loop back              $15.00
<a href="0907.htm" target="UDOcon">Audio</a> loop back            $20.00
DSP loop back              $30.00
Expansionport test fixture $70.00
---------------------------------
</pre>
<p>
<br>
</p>
<p>Die Adressen von Best-Electronics oder der Fa. Wizztronics
entnehmen Sie bitte dem <a href="1604.htm" target="UDOcon">H&auml;ndler</a>-Verzeichniss aus DOITF030.
</p>
<p align=center><img src="image/loopbak1.gif" border=0 width="330" height="180"></p><br>
<div align=center><tt> Abbildung 1 - <a href="0907.htm" target="UDOcon">Audio</a> Loopback Verbindung </tt>
</div>
<p>Wenn Sie ein Modul ohne Geh&auml;use erhalten stellen Sie sicher
das sie die Karte mit den beiden Eproms nach UNTEN in den Falcon
stecken! Module im Plastikkgeh&auml;use werden mit dem Label nach oben
in den Falcon gesteckt. Wenn Sie einen bestimmten Test machen wollen
schliessen sie auch den entsprechenden Loopback-Tester an die richtige
Schnittstellen des Falcon an. Selbstredend sollte am Monitorport ein
Monitor angesteckt sein. Im g&uuml;nstigsten Fall ist das ein
RGB-Farbmonitor!
</p>
<p>Nach dem Einschalten des Falcon sollten sie den Schiftzug:
<br>
</p>
<p>&quot;FALCON 030 Diagnostic Cardridge&quot;
<br>
<br>auf ihrem Bildschirm lesen k&ouml;nnen. Bis zu diesem Punkt wurden
bereits diverse Tests vorgenommen dessen Ergebnisse Sie weiter unten
sehen sollten. Mit dem Booten von einem solchen Testkit werden
s&auml;mtliche Parameter die bis dahin im <a href="040101.htm" target="UDOcon">NVRAM</a> gespeichert waren
durch die Default-Parameter des Atari-Testkit &uuml;berschrieben.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/testkit1.gif" border=0 width="258" height="312"></p><br>
<div align=center><tt> Abbildung 2 - Atari Falcon Testmodule </tt>
<br>
</div>
<p>
<br>
<br>
</p>
<p>
<br><tt> <a href="0308.htm" target="UDOcon">Fehlersuche</a> an einem toten Ger&auml;t </tt>
<br>
</p>
<p>Wenn Sie ihrem Falcon trotz korrektem Anschlu&szlig;, einer
intakten Stromversorgung und einer einwandfreien Peripherie kein Bild
entlocken sollten beginnen Sie mit den weiteren Schritten.
<br>Beachten Sie auch hierzu die Flowcharts.
<br>
</p>
<p>1.
<br>Stellen Sie eine Verbindung zu einem weiteren Atari-Computer her.
<br>Starten Sie auf dieser Maschine ein VT52-Terminalprogramm.
<br>Stellen Sie sich folgendes serielles Verbindungskabel selber her:
<br>Das Terminal mu&szlig; auf die Parameter 9600 Baud, 8N1
eingestellt werden.
<br>
</p>
<pre>
Totes Ger&auml;t        Weiterer Atari

Pin 2 ----------- Pin 3
Pin 3 ----------- Pin 2
Pin 5 ----------- Pin 5 GND (7 an ST, STE)

</pre>
<p>Setzen Sie das Testmodul in den toten Falcon ein.
<br>Schalten Sie den toten Falcon ein.
<br>Meldet sich das Diagnosemodul auf dem zweiten Atari benutzen
<br>sie die dort vorhanden Bildschirmausgabe und die Tastatur
<br>f&uuml;r weitere Tests. Sollten Sie nichts sehen beginnen Sie
<br>damit den toten Falcon zu zerlegen.
<br>
</p>
<p>2.
<br>Nach dem &ouml;ffen des Falcons ben&ouml;tigen Sie hier nicht
n&auml;her beschriebene Me&szlig;ger&auml;te.
<br>Messen Sie den 32Mhz Takt mit einen Oszilloskop nach.
<br>Das Taktsignal sollte eine gleichf&ouml;rmige stabile Wellenform
haben.
<br>Messen Sie die 32Mhz direkt am Eingang des COMBO Chips nach!
<br>Ist der Takt hier nicht vorhanden ersetzen Sie den Oszillator.
<br>Danach testen Sie bitte den HALT Pin der <a href="040109.htm" target="UDOcon">68030 CPU</a>.
<br>Wenn Sie hier ein HIGH-Pegel messen ist das in Ordnung.
<br>Bei LOW-Pegel bitte die weiteren Punkte beachten.
<br>
</p>
<p>a.)
<br>
</p>
<p>Testen Sie den Resetschaltungszweig ob von hier st&auml;ndig HALT
geliefert wird.
<br>
</p>
<p>b.)
<br>
</p>
<p>Testen Sie auf einen doppelten Bus-Error. Das bekommt man herraus
in
<br>dem man das BERR-Signal der CPU kontrolliert. Das in ein Input
f&uuml;r die CPU!
<br>Das Signal sollte immer HIGH sein. Sehen Sie hier auf ihrem
Oszilloskop
<br>h&auml;ufig folgende LOW-Impulse so werden diese vom COMBO
generiert.
<br>Das bedeutet das das System, der COMBO, eine Fehlfunktion
festgestellt hat.
<br>Verfolgen Sie die Mastertaktleitung r&uuml;ckw&auml;rts vom COMBO
bis zum Oszillator.
<br>Beachten Sie dabei auch bitte die Taktleitungen nach dem COMBO!
<br>Auch hier sollten Takte zu messen sein!
<br>
</p>
<p>c.)
<br>
</p>
<p>Stellen Sie hierbei einen Fehler fest ist die CPU nicht in der
Lage
<br>das ROM zu lesen und sie kann auch die Videoausgabe nicht
aktivieren.
<br>Ebenso kann der 68901 nicht initalisiert werden, folglich nutzt
ihnen
<br>auch das Testmodul nichts da die serielle Schnittstelle so nicht
Funktioniert.
<br>Im einfachsten Fall ist die <a href="040109.htm" target="UDOcon">68030 CPU</a> defekt.
<br>
</p>
<p>Testen Sie die Leitungen XROM3 und XROM4 auf Signale f&uuml;r den
Cardridegeport.
<br>Wenn hier nichts messbar ist sollten Sie dringend den COMBO
wechseln.
<br>Testen Sie danach am VIDEL ob hier Videosignale erzeugt werden.
<br>Tut sich hier nichts testen Sie wieder die Taktsignale, die
Stromversorgung
<br>f&uuml;r den VIDEL IC. Wechseln Sie den VIDEL oder die
entsprechenden
<br>fehlerhaften Bauteile. (Takt ect.pp)
<br>Erhalten Sie noch immer kein Display testen Sie das
Chipselekt-Signal am MFP!
<br>Sollte also CS (ChipSelekt) vorhanden sein testen Sie DS
(DataStrobe) am MFP.
<br>Sollte auch das jetzt vorhanden sein fahren Sie mit DTACK fort.
<br>Stehen die Signale CD und DS an, sind die Leitungen RS1-RS5 sowie
<br>D0-D7 aktiv und DTACK r&uuml;hrt sich nicht d&uuml;rfen Sie damit
beginnen
<br>ebenfalls den MFP zu wechseln.
<br>
</p>
<p>Es gibt keinen vern&uuml;nfigen Weg eine defekte CPU zu
lokalisieren.
<br>Einzige der Fall das die CPU so hei&szlig; ist das man sich die
<br>Finger verbrennt deutet darauf hin das der Chip defekt ist.
<br>
</p>
<p>3.
<br>
</p>
<p>Befindet sie die CPU nicht im HALT-Mode, gibt es keine Bewegungen
auf den
<br>Datenleitungen, versucht die CPU nicht das ROM oder das
Diagnosmodul zu lesen
<br>sollte die CPU gewechselt werden. Sollte die CPU aber das
Diagnosemodul
<br>lesen, das sieht man an den Datenleitungen, besteht die
M&ouml;glichkeit
<br>das die RS232 UND das Videosubsystem besch&auml;digt sind.
<br>&Uuml;berpr&uuml;fen Sie den Output des MFP wenn das Testmodul
gesteckt ist
<br>und der Falcon eingeschaltet wird. Pin 8 am MFP sollte Daten
senden.
<br>Ist das der Fall &uuml;berpr&uuml;fen sie den Treiber 1488.
<br>Beachten Sie dringlich das zum Betrieb der seriellen Schnittstelle
<br>unbedingt die -12V Versorgung intakt sein mu&szlig;!
<br>Ist das alles in Ordnung haben Sie ein Problem mit ihrer
Kabelverbindung
<br>zum externen Terminal.
<br>
</p>
<p>&Uuml;berpr&uuml;fen Sie den VIDEL. Benutzen Sie einen
RGB-Monitor, testen Sie
<br>den Videl-Output an den R-,G-,B- Summenwiderst&auml;nden.
<br>Beachten Sie dringlich das Sie keinen IDE-Zugriff haben solange
<br>es kein Bild zu sehen gibt! Sollten Sie einen Monochrome-Monitor
<br>benutzen m&uuml;ssen Sie das Mono-Signal &uuml;berpr&uuml;fen.
Messen Sie direkt
<br>am Baustein. Ebenso sollten sie den Videl-Input, Pin 8 testen.
<br>Wichtig: Erkennt die CPU w&auml;hrend dem Einschalten hier ein
LOW-Signal
<br>benutzt sie den R,G,B-Modus f&uuml;r den VIDEL.
<br>Testen Sie U42, das ist ein 74LS244 welcher die Monitor- und
Ramselektion festlegt.
<br>Logischerweise gibt es auch kein Bild wenn die
Syncronisationssignale fehlen!
<br>Laufende Bilder kann man am TV sehen wenn z.B Vsync. fehlt
<br>Ein sicheres Zeichen f&uuml;r einen defekten COMBEL
<br>Vsync. wird vom COMBEL an Pin 34 ausgegeben und direkt an Pin 6
des VIDEL eingespeist
<br>Dazwischen liegt lediglich ein 33 Ohm Widerstand, eine
unwarscheinliche Quelle f&uuml;r einen defekt
<br>
</p>
<p>Produziert der VIDEL ein Videosignal und das Bild ist nicht lesbar
oder
<br>auch nicht vorhanden kann noch ein Problem mit dem Videoram
vorliegen.
<br>Das Testkit sollte diesen Ramfehler leicht aufsp&uuml;ren
k&ouml;nnen.
<br>Stellenweise l&auml;sst sich bei einem defekten COMBEL ein TV-Bild
erzeugen wenn man an Pin 7 des VIDEL mit der Hand ber&uuml;hrt.
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> PowerUp beim Einschalten </tt>
</p>
<p>Beim Einschalten mit eingestecktem Testkit werden die untersten
2KB RAM &uuml;berpr&uuml;ft. Wird hier ein Fehler entdeckt, erfolgt
Meldung an das RS232-Terminal. Fehlt RAM kann kein Stack und kein
Speicher f&uuml;r Systemvariablen angelegt werden. Der Bildschirm
bleibt dunkel und das Testmodul wird die Ramfehler an das Terminal
senden. (Eventuell roter Bildschirm) Ist das <a href="0c02.htm" target="UDOcon">Keyboard</a> besch&auml;digt,
wird es deaktiviert, der Benutzter mu&szlig; das RS232-Terminal
benutzen. Alle Tasteneingaben werden &uuml;ber die serielle
Schnittstelle geleitet.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Power Up Sequence </tt>
</p>
<p>Das Testkit erlaubt direkte Systemtest nach dem Einschalten. Alle
Devices oder Subsyteme werden initalisiert und getestet. Sie erhalten
direkt danach den Status der einzelnen Subsysteme direkt auf dem
Bildschirm. Das <a href="040101.htm" target="UDOcon">NVRAM</a> wird dabei auf von Atari festgelegte
Defaultwerte gesetzt. Ihre eigenen Parameter gehen dadurch verloren.
Es wird so Sichergestellt das keine unsinnigen Parameter im <a href="040101.htm" target="UDOcon">NVRAM</a>
vorhanden sind.
</p>
<p>Steigt der Falcon aus bevor Sie das Men&uuml; des Testkits
komplett auf dem Bildschirm sehen k&ouml;nnen zeigt die letzte
Bildschirmaufschrift die Stelle oder Adresse, das Subsystem an bei
welcher der Absturz erfolgt ist. Hier d&uuml;rfen Sie dann n&auml;her
in die <a href="0305.htm" target="UDOcon">Hardware</a> einsteigen.
</p>
<p>Die niedrigsten 2 KB RAM werden beim PowerUp getestet, stellt das
Kit hier einen Fehler fest wird dieser &uuml;ber die
RS232-Schnittstelle gesendet. Es kann dann auch keine
Bildschirmausgabe erfolgen. Das Kit wird den Ramtest fortsetzen und
die Meldungen &uuml;ber RS232 ausgeben.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Initalisierung des Systems </tt>
</p>
<p>Der Speicherbereich f&uuml;r den Bildschirmspeicher wird
eingerichtet. Alle Pointer zum lesen und schreiben von Daten werden
gesetzt. Die so festgelegten Adressen werden an die CPU-Register
&uuml;bergeben. Fehler werden &uuml;ber die RS-232 ausgegeben,
nachfolgend wird das zur Verf&uuml;gung stehende RAM getestet.
</p>
<p>Das Falcon RAM wird vom Testkit auf 5 verschiedene Arten getestet.
Hierbei werden alle bekannten Testmuster verwendet. Bei einer
14MB-Maschine dauern diese Tests l&auml;nger!
</p>
<p>Wird arbeitendes Ram gefunden werden die 68030 Exeption Handler
geladen und der MFP initalisiert. Alle Interrupts eingeschaltet, das
Videosubsystem aktiviert und die RS-232 initalisiert. Danach wird der
Bildschirmspeicher gel&ouml;scht und die erste Meldung erblickt das
Licht der Welt. Ab diesem Punkt ist das System soweit in Ordnung das
diverse weitere Tests vorgenommen werden k&ouml;nnten. Ebenso werden
Meldungen per RS-232 an einen weiteren Atari &uuml;bermittelt. Nach
jeder gestesteten Funktion werden Sie eine Schlu&szlig;meldung oder
eine Fehlermeldung erhalten.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Bus Error </tt>
</p>
<p>Ein Bus-Error tritt z.B beim beschreiben des ROM auf. Hier sollten
Sie einen roten Bildschirm erhalten. Einige Busfehler erzeugen nur
eine Statusmeldung, das System l&auml;uft aber weiter.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> FPU Check </tt>
</p>
<p>Dieser Test zeigt Ihnen ob im Falcon eine FPU vorhanden ist. Ist
keine FPU eingebaut erhalten Sie die Meldung &quot; No FPU&quot; Der
Bildschirm wird dabei nicht rot.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Falcon30 Specific Tests </tt>
</p>
<p>Lassen Sie diese Tests laufen und notieren/speichern Sie sich die
Ergebnisse. U.u k&ouml;nnen sie die eine oder andere Meldung
sp&auml;ter verwerten.
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> PSG and PRINTER Port initalisieren </tt>
</p>
<p>Der PSG Chip wird initalisiert, Sound ist abgeschaltet. Der
Druckerport wird in den Testmode geschaltet. LoopBack Stecker ist
Notwendig! Entfernen Sie vorher einen dort angsteckten Drucker!
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Timer Testing - Genlock</tt>
</p>
<p>Beim Start des sog. &quot;Timingtest&quot; wird ein eigenes
Programmteil aufgerufen das s&auml;mtliche systemrelevanten Routinen
und Signalabl&auml;ufe testet. Dieses Programmodul generiert seine
eigenen Meldungen. Es werden alle Timer am MFP getestet und die
Ergebnisse an die aufrufende Routine zur&uuml;ckgeliefert. Sobald bei
diesen Tests ein einziger Fehler auftritt wird die Testroutine
abgebrochen und das Ergebniss ausgegeben. Stellt die
Software-Testroutine keinen Fehler in den MFP-Timern fest werden diese
Timer als Referenztimer f&uuml;r weitere Systemtests benutzt. U.a wird
dann auch damit der Takt des Hauptsystems, alle kleineren Taktraten
und das Genlock-Interface, bzw. der dazu passende Takt gr&uuml;ndlich
getestet. S&auml;mtliche Meldungen erscheinen auf dem Bildschirm oder
werden auch hier &uuml;ber RS232 ausgegeben. &quot;pass&quot; bedeutet
jeweils das der entsprechende Test erfolgreich war. Ohne Fehler.
</p>
<p>Zum allgemeinen Funktionsablauf ist zu sagen das bei dieser
&quot;Messung&quot; ein MFP-Timer gestartet wird und die CPU damit in
eine Instruktionsschleife startet. Ist die Zeit des MFP-Timers
abgelaufen bevor die CPU diese Schleife abgearbeitet hat, ist die
entsprechend getestete Taktrate zu langsam oder das System wird
&uuml;ber Genlock mit einer externen Taktrate gefahren. In diesem Fall
wird das Testmodul einen Dauerton generieren, die Bildschirmausgabe
wird gestoppt und der Rechner wird einen Reset ben&ouml;tigen.
</p>
<p>Erzeugt diese Test keinen sog. Timeout erfolgt eine entsprechende
positive Meldung und der Test ist beendet.
</p>
<p>Als Teil des Genlock-Tests wird das sog.
&quot;Pixelcontol-Bit&quot; im SP-Shiftmode Register gesetzt. Sie als
Benutzer k&ouml;nnen dieses Bit quasi als Oszilloskop nutzen da,
sollten Sie das STe-Testboard besitzen, Sie so leicht sehen
k&ouml;nnen ob der Genlock-Pin auf dem Testboard mit der Pixeltaktrate
getoggelt wird. Das Funktioniert nicht wenn ein externer Genlock-Takt
anliegt!
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Clean Up </tt>
</p>
<p>Unter diesem Punkt wird das <a href="0c02.htm" target="UDOcon">Keyboard</a> neu initalisiert. Die
Taktrate wird neu gesetzt und der CPU Cache abgeschaltet. Nach einer
Sekunde Pause wird der Bildschirm gel&ouml;scht und neu Aufgebaut.
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Fehlermeldungen bei allgemeinen Tests </tt>
<br>
</p>
<p>Dieser Fehler k&ouml;nnen u.U sofort nach dem Einschalten
auftreten.
<br>
</p>
<dl>
<dt><b>I1</b></dt><dd> RAM data line is stuck.
<br>Eine Datenleitung zum RAM ist besch&auml;digt
<br>Es kann auch eine Unterbrechung oder ein Kurzschlu&szlig; sein
<br>
<br>&nbsp;
<dt><b>I2</b></dt><dd> RAM disturbance. Location is altered by write to another
location.
<br>Allgemeiner Ramfehler
<br>
<br>&nbsp;
<dt><b>I3</b></dt><dd> RAM addressing. Wrong location is being addressed.
<br>Falsche Adresse im RAM
<br>
<br>&nbsp;
<dt><b>I4</b></dt><dd> MMU error. No DTACK after RAM access.
<br>Fehler in der Speicherverwaltung
<br>Es kommt kein DTACK nach dem RAM-Zugriff
<br>
<br>&nbsp;
<dt><b>I5</b></dt><dd> RAM sizing error. Uppermost address fails.
<br>Fehlerhafte Speichererkennung
<br>Die h&ouml;chste Adresse im RAM ist falsch
<br>
<br>&nbsp;
<dt><b>I6</b></dt><dd> Bus error handling failed. Bus error occurred (on purpose), but
<br>caused a crash system was unable to read the vector from RAM
<br>
<br>&nbsp;
<dt><b>I7</b></dt><dd> Bus error not detected. COMBEL not asserting Bus error or
<br>signal is not reaching the 68030
<br>
<br>&nbsp;
<dt><b>T0</b></dt><dd> MFP timers failed.
<br>Das testen der MFP-Timer ist fehlgeschlagen
<br>
<br>&nbsp;
<dt><b>T1</b></dt><dd> Vertical sync timing failed.
<br><a href="030503.htm" target="UDOcon">Timing</a> des vertikalen Sycronsignal ist ausserhalb der Toleranz
<br>
<br>&nbsp;
<dt><b>T2</b></dt><dd> Horiontal sync timing failed
<br><a href="030503.htm" target="UDOcon">Timing</a> des Horizontal-Sycronsignals ist ausserhalb der Toleranz
<br>
<br>&nbsp;
<dt><b>T3</b></dt><dd> Display enable interrupt failed
<br>Bildschirminterrupt ist nicht vorhanden
<br>
<br>&nbsp;
<dt><b>T4</b></dt><dd> Memory controller video address counter failed
<br>Der Adressz&auml;hler des Videorams arbeitet Fehlerhaft
<br>
<br>&nbsp;
<dt><b>T5</b></dt><dd> PSG Bus test. PSG chips is causing a bus error by staying on the
<br>data bus too long.
<br>Der Soundchip hat einen Busfehler erzeugt
<br>
<br>&nbsp;
<dt><b>T6</b></dt><dd> Floppy Disk Controller Bus test. AJAX Chip is causing a bus error
<br>by staying on the bus too long.
<br>Der Floppycontroller hat einen Buserror erzeugt
<br>
<br>&nbsp;
<dt><b>K0</b></dt><dd> Stuck key.
<br>Eine Taste am <a href="0c02.htm" target="UDOcon">Keyboard</a> klemmt
<br>
<br>&nbsp;
<dt><b>K1</b></dt><dd> <a href="0c02.htm" target="UDOcon">Keyboard</a> controller is not responding
<br>Tastaturprozessort antwortet nicht
<br>
<br>&nbsp;
<dt><b>K2</b></dt><dd> <a href="0c02.htm" target="UDOcon">Keyboard</a> controller reports error
<br>Tastaturprozessor meldet Fehler
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> RAM und SRAM Test </tt>
<br>
</p>
<p>Die ausf&uuml;hrlichen RAM-Tests starten mit dem testen des 32K
SRAM. Es werden bei jedem Ramtest unterschiedliche Testmuster in den
entsprechenden Speicher geschrieben und dann wieder gelesen. Der Reihe
nach laufen so Tests mit 11, 00 und AA sowie 55 Bitmustern ab. Danach
werden die Muster zuf&auml;llig geschrieben und wieder gelesen. Nach
dem SRAM beginnt der Test des Systemrams. Das Systemram wird in drei
Stufen getestet, zuerst die untersten 2K, dann der Bereich bis 64K und
als letztes alles was &uuml;ber diesen 64K liegt.
<br>Das DSP SRAM wird mit den gleichen Mustern getestet. Nachfolgend
eventuell m&ouml;gliche Fehlermeldungen.
<br>
</p>
<p>Wird ein Ramfehler erkannt wechselt die Bildschirmfarbe nach Rot
und es wird eine Reihe von Beept&ouml;nen ausgegeben, einem Fehlercode
folgt die zutreffende Adresse des Ram an dem der entsprechende Fehler
entdeckt wurde. Mit diesen Daten lassen sich dann die Adressleitungen
und auch der entsprechende Speicherchip ausfindig machen.
<br>
</p>
<pre>Beispiel:
Code  Adresse  Write   Read    Fehlerbit
-------------------------------------------
R3    45603E   W:603E  R:613C  bad bits 1,8
-------------------------------------------
Art   Adresse  W-Data  R-Data  Speicherzelle

</pre>
<p>Ein gefundener Fehler wird mit der Fehlerart, seiner Adresse, den
in diese Zelle geschriebenen Wert, den gelesenen Wert und die Angabe
der betroffenen Speicherbits ausgegeben.
<br>
<br><tt> Spezielle Meldungen beim Ramtest </tt>
</p>
<dl>
<dt><b>R0</b></dt><dd> Low memory failed while setting up to run test
<br>Die untersten 2K Ram stehen nicht zur Verf&uuml;gung
<br>
<br>&nbsp;
<dt><b>R1</b></dt><dd> Failed walking 1s or 0s
<br>
<br>&nbsp;
<dt><b>R2</b></dt><dd> Failed address (counting pattern)
<br>Keinen Zugriff auf diese Adresse
<br>
<br>&nbsp;
<dt><b>R3</b></dt><dd> Failed 64k boundary test. Probable failure in Memory Controller
<br>
<br>&nbsp;
<dt><b>R4</b></dt><dd> Failed while displying area tested (Video RAM)
<br>Fehler beim Testen des Videospeichers
<br>
<br>&nbsp;
<dt><b>DSP4</b></dt><dd> SRAM Test Timeout. Test started but never completed
<br>Timeout beim SRAM Test
<br>
<br>&nbsp;
<dt><b>DSP5</b></dt><dd> SRAM failure. RAM failure during SRAM test
<br>
<br>
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> MIDI Test </tt>
</p>
<p>Der Miditest kann nur erfolgreich abgeschlossen werden wenn an
beiden Midibuchsen der Midi-Loopbackstecker angeschlossen wurde. Das
kommerzielle ferige Loopback-Kabel hat zu diesem Zweck ein Leuchtdiode
im Kabel die blinkt sofern Daten gesendet werden. Zum Test wird ein
Datenpacket versendet welches sogleich auf der zweiten Midibuchse
wieder emfpfangen und mit den eben gesendeten Daten verglichen wird.
Zu bemerken w&auml;re noch das nicht alle Kabel die man erh&auml;lt
eine LED eingebaut haben!
<br>Wenn dieser Test gestartet wurde wird gleichzeitig der Interrupt
vom 8650 &uuml;berpr&uuml;ft der am MFP dann ankommen sollte.
<br>
</p>
<p>Nachfolgend die Midi-Fehlermeldungen des Testmoduls.
<br>
</p>
<dl>
<dt><b>M0</b></dt><dd> Data not received. Indicates a broken data line
<br>Daten konnten nicht empfangen werden
<br>Vermutlicher Kablebruch oder Schnittstellendefekt
<br>
<br>&nbsp;
<dt><b>M1</b></dt><dd> Write/Read data mismatch. The data written was not the same as
the data read
<br>Lese- oder Schreibfehler. Die Daten die gesendet wurden konnten
<br>nicht oder nur falsch gelesen werden
<br>
<br>&nbsp;
<dt><b>M2</b></dt><dd> Input frame error or noisy signal
<br>Kein Signal oder unvollst&auml;ndiges schlechtes Midi-Signal
<br>
<br>&nbsp;
<dt><b>M3</b></dt><dd> Input parity error.
<br>Midi Input ist nicht korrekt
<br>
<br>&nbsp;
<dt><b>M4</b></dt><dd> Input data overrun. The 6850 received a byte before the previous
byte was read
<br>Zuviele Daten. Der 6850 emfp&auml;ngt Daten bevor welche gesendet
wurden
<br>
<br>&nbsp;
<br>
<br>
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> SCC serial Port </tt>
</p>
<p>Dieser Test &uuml;berpr&uuml;ft den kompletten seriellen Chip
inklusive dem Datentransfer
<br>Ebenso ist der <a href="0c06.htm" target="UDOcon">LAN-Port</a> in diesen Test integriert.
<br>Es sollten alle Loopback-Kabel angeschlossen sein. Ohne die
entsprechenden Kabel wird dieser Test immer negativ ausfallen.
<br>Lassen Sie sich nicht von der Geschwindigkeit verbl&uuml;ffen,
alle diese Testes ben&ouml;tigen sehr wenig Zeit.
<br>Nachfolgend die m&ouml;glichen Fehlermeldungen dieses Tests
<br>
</p>
<dl>
<dt><b>SCC A</b></dt><dd> Transmitter time out : Transmitter failed
<br>Receiver time out : Receiver failed
<br>Overrun : A byte was received before the CPU read the previous
byte
<br>Framing error : Inccorect time between start and stop bits
<br>Parity error : Input data had incorrect parity
<br>Data compare : Data read was not what send
<br>Port A no loopback : The loopback connector is not installed
<br>
<br>&nbsp;
<dt><b>LAN Error:</b></dt><dd> LAN had no loopback : LAN loopback is not installed
<br>DCD is active without RTS on : Carrier detect active without a
request
<br>RTS is active but no DCD :
<br>&nbsp;
<dt><b>Port A async mode:</b></dt><dd> Transmitter time out : Transmitter failure
<br>Receiver time out : Receiver failure
<br>Overrun : A byte was received before the CPU read the previous
byte
<br>Framing error : Incorrect time between start and stop bits
<br>Parity error : Input data had incorrect parity
<br>Data compare : Data reas was not what send
<br>
<br>&nbsp;
<dt><b>Port A modem control:</b></dt><dd> DTR-DCD : Signal sent at DTR ist not detected at DCD
<br>DTR-DSR : Signal sent at DTR is not detected at DSR
<br>RTS-CTS : Signal sent at RTS ist not detected at CTS
<br>
<br>&nbsp;
<dt><b>SCC B</b></dt><dd> Transmitter time out : Transmitter failed
<br>Receiver time out : Receiver failed
<br>Overrun : A byte was received before the CPU read the previous
byte
<br>Framing error : Inccorect time between start and stop bits
<br>Parity error : Input data had incorrect parity
<br>Data compare : Data read was not what send
<br>Port B no loopback : The loopback connector is not installed
<br>
<br>&nbsp;
<dt><b>LAN Error:</b></dt><dd> LAN had no loopback : LAN loopback is not installed
<br>DCD is active without RTS on : Carrier detect active without a
request
<br>RTS is active but no DCD :
<br>&nbsp;
<dt><b>Port B async mode:</b></dt><dd> Transmitter time out : Transmitter failure
<br>Receiver time out : Receiver failure
<br>Overrun : A byte was received before the CPU read the previous
byte
<br>Framing error : Incorrect time between start and stop bits
<br>Parity error : Input data had incorrect parity
<br>Data compare : Data reas was not what send
<br>
<br>&nbsp;
<dt><b>Port B modem control:</b></dt><dd> DTR-DCD : Signal sent at DTR ist not detected at DCD
<br>DTR-DSR : Signal sent at DTR is not detected at DSR
<br>RTS-CTS : Signal sent at RTS ist not detected at CTS
<br>
<br>&nbsp;
<dt><b>SCC Interrupt Error:</b></dt><dd> Transmitter time out : Transmitter failure
<br>Receiver time out : Receiver failure
<br>Overrun : A byte was received before the CPU read the previous
byte
<br>Framing error : Incorrect time between start and stop bits
<br>Parity error : Input data had incorrect parity
<br>Data compare : Data reas was not what send
<br>No TX interrupt : A Transmit command was issued but no Interrupt
occurred
<br>No Rx interrupt : A Receive command was issued but no Interrupt
occurred
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> SCSI DMA </tt>
</p>
<p>Der SCSI-Port des <a href="0302.htm" target="UDOcon">Falcon F030</a> wird getestet in dem man eine
normale SCSI- Festplatte am externen Anschlu&szlig; des Falcons
anschliesst. Dieses Laufwerk mu&szlig; dringlich als Unit 0, Device 0
gejumpert werden. Ebenso m&uuml;ssen die Terminatorarrys gesteckt
werden oder der entsprechende Jumper mu&szlig; gesetzt sein.
<br>Es wird zum Test nur dieses eine Device erlaubt.
<br>Zum Test wird Busarbitration benutzt!
<br>Das SCSI-Interface des F030 wird im DMA- und im CPU-Mode getestet
<br>Die SCSI-Testroutinen zerst&ouml;ren unter normalen Umst&auml;nden
den Block 0 einer angeschlossenen SCSI-Festplatte nicht!
<br>Die Lese- und Schreibtests &uuml;ber das SCSI-Interface werden mit
den &uuml;blichen Lang- und Kurzkommandos ausgef&uuml;hrt. Also nichts
ungew&ouml;hnliches.
<br>Die Tests laufen nach folgendem Schema ab:
<br>
</p>
<dl>
<dt><b>Step 1</b></dt><dd> Senden eines SCSI-Resets
<br>Send a simple reset
<br>
<br>&nbsp;
<dt><b>Step2</b></dt><dd> Lesen eines 512K Block von Block 0 der Platte in das Ram unter
<br>verwendund des Read-Short Kommandos
<br>
<br>&nbsp;
<dt><b>Step 3</b></dt><dd> Schreiben eines 512K Block zur&uuml;ck in Block 0 der Festplatte
unter
<br>benutzung des Write-Short Kommandos
<br>
<br>&nbsp;
<dt><b>Step 4</b></dt><dd> Erneutes lesen des 512K Block vom Block 0 der Platte
<br>Der Block wird in einen anderen Bereich des RAM geschrieben und
<br>
<br>&nbsp;
<dt><b>Step 5</b></dt><dd> Vergleichen beider Blocks im Ram welche zuvor von der Platte
gelesen wurden
<br>
<br>&nbsp;
<dt><b>Step 6</b></dt><dd> 32K Block von der Platte aus Block 0 lesen. Exendent Command
<br>
<br>&nbsp;
<dt><b>Step 7</b></dt><dd> Diesen 32K Block auf die Platte in Block 0 schreiben. Extendet
Command
<br>
<br>&nbsp;
<dt><b>Step 8</b></dt><dd> Den gleichen 32K Block erneut lesen, aber in einen anderen
Speicherbereich schreiben
<br>
<br>&nbsp;
<dt><b>Step 9</b></dt><dd> Beide soeben gelesene Bereiche im RAM vergleichen
<br>
<br>&nbsp;
<dt><b>Step 10</b></dt><dd> Hier wird der DMA-Controller dazu benutzt verschiedene 64K
Bl&ouml;cke von (nl) der Platte zu lesen und in unterschiedliche
RAM-Bereiche zu schreiben
<br>Es werden hier die extendet SCSI-Kommandos benutzt
<br>
<br>&nbsp;
<dt><b>Step 11</b></dt><dd> Vergleichen der Speicherbereiche im RAM
<br>Testen auf Datenintegrit&auml;t
<br>
<br>&nbsp;
</dl>
<p>Fehlermeldungen die w&auml;hrend oder nach diesen Tests auftauchen
k&ouml;nnen:
<br>
</p>
<dl>
<dt><b>Error-SCSI Status Code xx</b></dt><dd> SCSI-Controller sendet den Fehlercode xx
<br>
<br>&nbsp;
<dt><b>Error-Cannot Select SCSI Disk</b></dt><dd> Kann keine Arbitration &uuml;ber den Bus erhalten
<br>
<br>&nbsp;
<dt><b>Error-PRG Mode Read and Write Buffer do not compare</b></dt><dd> Die Daten in den beiden Ram-Buffern sind nicht die gleichen.
<br>Das k&ouml;nnen dann auch Lesefehler von der Platte sein.
<br>U.u auch den <a href="0e.htm" target="UDOcon">Clockpatch</a> nachr&uuml;sten!
<br>
<br>&nbsp;
<dt><b>Error-DMA Mode 5380 or SCSI Disk is not responding</b></dt><dd> Der versuch Daten von der Platte zu erhalten ist fehlgeschlagen
<br>Falsch angschlossen, Buskabel defekt, Terminierung fehlt
<br>
<br>&nbsp;
<dt><b>Error-DMA Mode Read and Write Buffers do not compare</b></dt><dd> Die Daten in den eingelesenen Datenbuffern sind nicht gleich!
<br>
<br>&nbsp;
<dt><b>Error-DMA Block Move time out</b></dt><dd> Der DMA-Blockdatentransfer hat eine Zeit&uuml;berschreitung
<br>
<br>&nbsp;
<dt><b>Error-Time out SCSI Bus always Busy</b></dt><dd> Der SCSI-Interrupt fehlt am MFP
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Floppy Disk Test </tt>
<br>
</p>
<p>Wenn Sie den Test f&uuml;r das Diskettenlaufwerk anw&auml;hlen
wird eine Testreihe gestartet die sich aus sieben Punkten
zusammensetzt
<br>
</p>
<dl>
<dt><b>Floppy Quick Test</b></dt><dd> Sofern das Diskettenlaufwerk installiert ist und dieser Testpunkt
<br>aufgerufen wird, startet hier das formatieren, schreiben und lesen
<br>von Track 79 und Track 0 einer eingelegten Diskette
<br>Bei einer doppelseitigen Diskette findet dieser Test
logischerweise
<br>auf beiden Seiten dieser Diskette statt.
<br>Ist das Diskettenlaufwerk nicht installeriert wird an dieser
Stelle
<br>&uuml;berpr&uuml;ft ob das Drive aktiv ist und ob es sich um ein
ein- oder
<br>doppelseitiges Laufwerk handelt
<br>Bevor man diesen Test startet kann man allerdings schon im
Hauptmen&uuml;
<br>direkt unter dem RAM-Test sehen ob das Diskettenlaufwerk aktiv ist
<br>
<br>&nbsp;
<dt><b>Read Track</b></dt><dd> Kontinuierliches lesen eines Track von einer speziellen analogen
<br>Testdiskette. Zum Start kann ein bestimmter Track ausgew&auml;hlt
werden
<br>Default-Lesetrack ist Track 40 eingestellt
<br>
<br>&nbsp;
<dt><b>Interchangeabilitiy Test</b></dt><dd> Hier wird &uuml;berpr&uuml;ft ob das Laufwerk in der Lage ist
eine Diskette
<br>zu erkennen die mit einen anderen Laufwerk/Computer formatiert
wurde
<br>
<br>&nbsp;
<dt><b>Disk exerciser</b></dt><dd> Ein Disketten / Drive Dauertest
<br>Es werden alle Tracks einer Diskette f&uuml;r eine bestimmte dauer
getestet
<br>
<br>&nbsp;
<dt><b>Copy Protect Tracks</b></dt><dd> Testet die Tracks 80 - 82 einer eingelegten Diskette
<br>Einige Softwarehersteller ben&uuml;tzen diese Spuren f&uuml;r
einen Kopierschutz
<br>WARNUNG: Nicht alle <a href="0606.htm" target="UDOcon">Diskettenlaufwerke</a> k&ouml;nnen auf diesen
Spuren lesen
<br>und schreiben, mechanische Sch&auml;den am Laufwerk sind nicht
ausgeschlossen!!
<br>
<br>&nbsp;
<dt><b>Test Speed</b></dt><dd> Dieser Test &uuml;berpr&uuml;ft die Drehzahl des
Diskettenlaufwerks
<br>Die Geschwindigkeit wird am Bildschirm angezeigt
<br>Eine Drehzahl von 196-204 Upm (Millisekunden) ist f&uuml;r ein
Atari-Kompatibles Diskettenlaufwerk akzeptabel
<br>H&ouml;here oder niedrigere Drehzahlen f&uuml;hren zur
inkompatibilit&auml;t mit andern Drives
<br>Der Test wird mit einem Tastendruck beendet
<br>
<br>&nbsp;
<dt><b>Install Disk</b></dt><dd> Hier geben Sie spezifisch f&uuml;r ihren Falcon an welchen Typ
<br>von Diskettenlaufwerk sie einbauen wollen
<br>
<br>&nbsp;
</dl>
<p>Ist einer oder mehrere Testzyklen vom Hauptmen&uuml; aus
angew&auml;hlt wird das spezielle Floppy-Men&uuml; nicht angezeigt,
hier startet der &quot;Quick-Test&quot; automatisch.
<br>Mit diesem Test ist es weiterhin m&ouml;glich den Schreibschutz
des Laufwerks zu testen. Aber das Testen Sie am besten selber einmal
aus.
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Diagnose Flowchart </tt>
<br>
<br>In den folgenden Flowcharts sehen Sie wie man systematisch
vorgehen kann um einen defekt im <a href="0302.htm" target="UDOcon">Falcon F030</a> zu lokalisieren.
Gegebenenfalls kann die entsprechende Einheit auf diesem Weg repariert
werden.
<br>Es soll hier aber nicht verschwiegen werden das es bei
SMD-Multilayerboards allerdings auch defekte geben kann die nur durch
Austausch der gesammten Hauptplatine zu beseitigen sind.
<br>Sofern man das dann als Beseitigen nennen kann.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/flow1.gif" border=0 width="460" height="350"></p><br>
<div align=center><tt> Abbildung 1 - Diagnosic Flowchart Part 1 </tt>
</div>
<p>
<br>
<br>
</p>
<p align=center><img src="image/flow2.gif" border=0 width="350" height="250"></p><br>
<div align=center><tt> Abbildung 2 - Diagnostic Flowchart Part 2 </tt>
</div>
<p>
<br>
<br>
</p>
<p align=center><img src="image/flow3.gif" border=0 width="360" height="300"></p><br>
<div align=center><tt> Abbildung 3 - Diagnostic Flowchart Part 3 </tt>
</div>
<p>
<br>
<br>
</p>
<p align=center><img src="image/flow4.gif" border=0 width="640" height="400"></p><br>
<div align=center><tt> Abbildung 4 - Diagnostic Flowchart Part 4 </tt>
</div>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Printer und Joystick Test </tt>
<br>
</p>
<p>Das Anschu&szlig;kit f&uuml;r den Drucker- und die Joystickports
erlaubt das senden von Testdaten &uuml;ber den Druckerport. Diese
Daten werden auf dem Testboard von einem Latch empfangen und wieder an
den Druckerport gesendet. Tests f&uuml;r die Joystickports generieren
Daten die &uuml;ber den Druckerport zu den verschiedenen
Joystick-Eing&auml;ngen geschickt werden. Die Tastatur liest diese
Daten in den Antwortpaketen die die CPU versendet. S&auml;mmtliche
Richtungsangaben, das Bet&auml;tigen der Feuerkn&ouml;pfe sowie die
Testes der Paddle- und Lightgun-Anschl&uuml;sse kann nur so getestet
werden. Es ist im &uuml;brigen die gleiche Testplatine wie sie auch
f&uuml;r STe-Computer zum Einsatz kommt.
<br>
</p>
<p>Folgende Fehlermeldungen kann das Testkit erzeugen:
<br>
</p>
<dl>
<dt><b>P0</b></dt><dd> Printer port error
<br>Data read from the printer port was not what was written
<br>Daten die von Druckerport gelesen werden sind die nicht die
<br>gleichen Daten die zuvor geschrieben wurden
<br>
<br>&nbsp;
<dt><b>P1</b></dt><dd> Busy input error
<br>The input to the MFP is not being read, or the STROBE output from
<br>the PSG is not funcioning, or Joystick Port 0 Pin 3 is not
connected
<br>Das Busysignal l&ouml;st am MFP keinen Interrupt aus
<br>Entweder erzeugt der PSG-Chip kein STROBE-Signal oder am Joystick
0
<br>ist Pin 3 nicht angeschlossen. Es kann auch der PSG defekt sein
<br>
<br>&nbsp;
<dt><b>J0</b></dt><dd> Joystick port 0
<br>The keyboard input is not functioning
<br>Es k&ouml;nnen keine Inputs von diesem Joystick gelesen werden
<br>
<br>&nbsp;
<dt><b>J1</b></dt><dd> Joystick port 1
<br>The keyboard input is not functioning
<br>Es k&ouml;nnen keine Inputs von diesem Joystick gelesen werden
<br>
<br>&nbsp;
<dt><b>J2</b></dt><dd> Joystick time out
<br>Joystick inputs were simulated by outputting data on the printer
port
<br>and routing via the test fixture to the joystick ports. Joystick
inputs
<br>are detected by the keyboard and sent to the CPU via the 6850
(ACIA)
<br>This error can be caused by printer port failure (code P0),
keyoard failure
<br>or keyboard-CPU communication line
<br>Die Joystick Inputs die &uuml;ber den Druckerport generiert wurden
und &uuml;ber das
<br>externe Testboard zu den Joystick-Eing&auml;ngen geroutet wurden
sind fehlerhaft
<br>Dieser Fehler kann auf einen defekt der Tastatur-ACIA, einen
defekt am PSG
<br>oder aber auch auf einen defekt der seriellen Leitung zwischen
<a href="0c02.htm" target="UDOcon">Keyboard</a>-CPU
<br>und der ACAI hinweisen
<br>
<br>&nbsp;
<dt><b>J3</b></dt><dd> Left button input
<br>Input not seen by the test board
<br>Die linke Taste kann nicht emfpangen werden
<br>
<br>&nbsp;
<dt><b>J4</b></dt><dd> Right button input
<br>Not seen by the test board
<br>Die rechte Taste kann nicht empfangen werden
<br>
<br>&nbsp;
<dt><b>J5</b></dt><dd> Aux joystick direction
<br>Game controller board (J500, J501) direction bits
<br>U511 is used to drive the input via the test fixture. The
hexadecimal data
<br>following corresponds to bits read from latches U510 and U512,
where one
<br>indicates an error. For example, 0002 indicates and error at J500
Pin 3
<br>Die Richtungstasten des Joystick erzeugen an den Latches U510 /
U512 bestimmte &quot;Richtungs-Bits&quot; die als hexadezimale Daten
weitergegeben werden
<br>Eines der beiden Latches zeigt Fehler an!
<br>Als Beispiel: 0002 zeigt einen Fehler an J500 Pin 3 an
<br>
<br>&nbsp;
<dt><b>J6</b></dt><dd> Aux fire button
<br>Fire buttons are read from U509. Signal is driven via the test
fixture
<br>from the output of U511
<br>Latch U509 liest die &quot;Firebuttons&quot; vom Joystick
<br>
<br>&nbsp;
<dt><b>J7</b></dt><dd> Paddle
<br>The inputs are driven by either 5V/100Ohm or 5V/1MOhm on the test
fixture
<br>This current charges the RC network on the Falcon, varying the
output pulse
<br>of the LM556
<br>Das Testboard generriert analoge &quot;Steuerdaten&quot; f&uuml;r
die RC-Glieder
<br>Einmal sind das 5V/100Ohm und 5V/1MOhm, diese Inputs werden an die
internen
<br>RC-Glieder angelegt und Steuern entsprechend den LM556
<br>(Welcher die Daten an den Combel weiterreicht)
<br>
<br>&nbsp;
<dt><b>J8</b></dt><dd> Light gun
<br>The light gun (XPEN) input is toggled at three poins on the screen
<br>(the video adress counter is used to find the position of the
screen
<br>The Combel should return the X/Y coordinates of the screen
position
<br>&Uuml;ber den XPEN Pin werden Daten eines Lichtpunktes auf dem
Bildschirm geliefert
<br>Der Videoadressenz&auml;hler wird benutzt um die Position auf dem
Schirm zu finden
<br>Der Combel liefert danach die relevante X/Y Koordinate auf dem
Bildschirm
<br>
<br>&nbsp;
</dl>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> <a href="0c09.htm" target="UDOcon">Romport</a> / Expansions Bus </tt>
<br>
</p>
<p>Das Anschu&szlig;kit f&uuml;r den <a href="030702.htm" target="UDOcon">Expansionsport</a> des <a href="0302.htm" target="UDOcon">Falcon F030</a>
erlaubt es den gesammten <a href="0c09.htm" target="UDOcon">Romport</a> mit allen Adress- und Datenleitungen
komplett zu testen. Der Testanschlu&szlig; hat einen Speicher von 64Kb
statischem Ram und ist mit Jumpern auch auf 128K selektierbar. Dieses
Ram wird beim PowerUp adressiert von $FC000 bis $FDFFFF und kann per
Software in den Bereich von $FA0000 bis $FDFFFF gemappt werden. Das
ist der eigentliche Modul - Bereich im Ram. Das bedeutet das die
Software des Testmoduls hier geladen werden kann um dann aus dem
statischen Ram gestartet zu werden. Der '<a href="0c09.htm" target="UDOcon">Romport</a>-Tester' kann
ebendfalls so Konfiguriert werden das er die beiden Eproms aus dem
Testmodul auf seiner eigenen Platine tragen und auch ausf&uuml;hren
kann.
<br>
</p>
<p>Bevor Sie jedoch die schlimmsten Bef&uuml;rchtungen anstellen
sollten Sie einfach nachsehen ob die <a href="0c09.htm" target="UDOcon">Romport</a>-Sicherung F1 noch intakt
ist, n&auml;heres dazu finden Sie unter <a href="030702.htm" target="UDOcon">Expansionsport</a> oder <a href="0c09.htm" target="UDOcon">Romport</a>.
Auch ist es durch normalen verschlei&szlig; m&ouml;glich das die Karte
welche Sie in den <a href="0c09.htm" target="UDOcon">Romport</a> gesteckt haben einfach keinen richtigen
Kontakt zu der Federleiste herstellen kann. U.u liegt es einfach nur
an verschmutzten Kontakten.
<br>Die Kontaktfl&auml;chen der Module / Karten lassen sich gut mit
einem normalen Radiergummi reinigen. Hier gen&uuml;gt leichtes Rubbeln
mit der blauen Seite
<br>Die Kontaktfedern der Romportbuchse bed&uuml;rfen eigentlich
keiner Wartung.
<br>Sollten Kontaktfedern verbogen oder gar Kurzgeschlossen sein sind
Sie gut beraten die ganze Buchse komplett Auszutauschen. Das
Nachbiegen einzelner Kontaktfedern wird nur in den wenigsten
F&auml;llen gl&uuml;cklich enden
<br>
</p>
<p>Bei einer normalen Testkonfiguration hat der Porttester folgende
<a href="0305.htm" target="UDOcon">Hardware</a>:
<br>
</p>
<p>Controllregister F70000-F70002
<br>Extener Blitter F78A00-F78A3F
<br>64K / 120 nS. statisches Ram von FC0000 bis FCFFFF
<br>
</p>
<p>Die Testzyklen f&uuml;r den <a href="0c09.htm" target="UDOcon">Romport</a> laufen nach folgendem Schema
ab:
<br>
</p>
<dl>
<dt><b>Step 1</b></dt><dd> Die 64K Ram werden benutzt um die Adressleitungen A0-A15
<br>und alle Datenleitungen auf offene oder kurzgeschlossene
<br>Verbindungen zu pr&uuml;fen
<br>
<br>&nbsp;
<dt><b>Step 2</b></dt><dd> Die Adressleitungen A16-A32 werden beim lesen von den oberen 256
Adressen
<br>und dem Zwischenspeichern in einem Latch Adresse f&uuml;r Adresse
getestet
<br>
<br>&nbsp;
<dt><b>Step 3</b></dt><dd> Der externe Blitter hat einige Modifikationen um den Falcon
internen
<br>Blitter testen zu k&ouml;nnen. Dieser Test kontrolliert die
Master-
<br>Handshakeleitungen komplett
<br>
<br>&nbsp;
<dt><b>Step 4</b></dt><dd> Dieser Schritt testet die Interrupts nach ihrer Priorit&auml;t
<br>Getestet wird Interrupt 1,3,5 sowie 6
<br>Gefolgt vom Bus Error, HALT, RESET und 500Khz
<br>
<br>&nbsp;
</dl>
<p>Beachten Sie bitte das folgende Meldungen nur erscheinen wenn der
externe Romporttester vorhanden und auch angeschlossen ist
<br>Folgende Fehlermeldungen kann der Romporttest erzeugen:
<br>
</p>
<dl>
<dt><b>Spurious Interrupt 5</b></dt><dd> Ein Interrupt wurde auf Level 5 empfangen
<br>COMBEL, MFP und Interruptleitung 5 testen
<br>
<br>&nbsp;
<dt><b>Spurious Interrupt 1</b></dt><dd> Ein Interrupt wurde auf Level 1 empfangen
<br>COMBEL, MFP und Interruptleitung 1 testen
<br>
<br>&nbsp;
<dt><b>Spurious Interrupt 6</b></dt><dd> Ein Interrupt wurde auf Level 6 empfangen
<br>COMBEL, MFP und Interruptleitung 6 testen
<br>
<br>&nbsp;
<dt><b>Bus Error from Interrupt Level 6</b></dt><dd> Ein Buserror ist w&auml;hrend dem Test von Interrupt 6
aufgetreten
<br>COMBEL, MFP und Interruptleitung 6 testen
<br>
<br>&nbsp;
<dt><b>Bus Error</b></dt><dd> Ein Buserror ist w&auml;hrend dem Test aufgetreten
<br>COMBEL testen
<br>
<br>&nbsp;
<dt><b>Spurious Interrupt</b></dt><dd> Ein Interrupt wurde w&auml;hrend dem Test empfangen
<br>Alle Interruptleitungen testen
<br>MFP, COMBEL testen
<br>
<br>&nbsp;
<dt><b>Adress Error</b></dt><dd> Ein Interrupt wurde w&auml;hrend dem Test empfangen
<br>Alle Interruptleitungen testen
<br>COMBEL, MC68030 und alle Adressleitungen auf Unterbrechung
<br>oder Kurzschlu&szlig; testen!
<br>
<br>&nbsp;
<dt><b>Halt Failed Test</b></dt><dd> Eine 'HALT' Operation ist Fehlgeschlagen
<br>COMBEL, HALT-Leitung und CPU testen
<br>
<br>&nbsp;
<dt><b>500Khz Clock Stuck Low</b></dt><dd> Die 500KHz Taktleitung ist tot oder der Takt ist zu niedrig
<br>COMBEL und die Taktleitung testen
<br>
<br>&nbsp;
<dt><b>500Khz Clock Stuck High</b></dt><dd> Die 500KHz Taktleitung ist tot oder der Takt ist zu hoch
<br>COMBEL und die Taktleitung testen
<br>
<br>&nbsp;
<dt><b>Printer is not Responding</b></dt><dd> Der Druckeranschlu&szlig; gibt keine Antwort
<br>Die Druckerdatenleitungen testen
<br>SDMA, COMBEL und PSG testen
<br>
<br>&nbsp;
<dt><b>Bus Error Signal Stuck Low</b></dt><dd> Das Bus Error Signal fehlt
<br>COMBEL und die Bus Error Leitung testen
<br>
<br>&nbsp;
<dt><b>Bus Error Signal Stuck High</b></dt><dd> Das Bus Error Signal ist dauernd vorhanden
<br>COMBEL und die Bus Error Leitung testen
<br>
<br>&nbsp;
<dt><b>Blitter Failed Test</b></dt><dd> Test des externen Blitters ist fehlgeschlagen
<br>COMBEL und alle Adress- und Datenleitungen testen
<br>
<br>&nbsp;
<dt><b>Expansions Port is not connected</b></dt><dd> Das Testboard f&uuml;r den <a href="0c09.htm" target="UDOcon">Romport</a> ist nicht angesteckt worden
<br>
<br>&nbsp;
<dt><b>Adress Latch Failed</b></dt><dd> Das Latch f&uuml;r die Adressen hat einen fehler
<br>COMBEL testen
<br>
<br>&nbsp;
<dt><b>Interrupt Level 1 failed</b></dt><dd> Der Interrupt Level 1 ist fehlerhaft
<br>Testen Sie den COMBEL, MFP und die Interruptleitung 1
<br>
<br>&nbsp;
<dt><b>Interrupt Level 3 failed</b></dt><dd> Der Interrupt Level 3 ist fehlerhaft
<br>Testen Sie den COMBEL, MFP und die Interruptleitung 3
<br>
<br>&nbsp;
<dt><b>Interrrupt Level 5 failed</b></dt><dd> Der Interrupt Level 5 ist fehlerhaft
<br>Testen Sie den COMBEL, MFP und die Interruptleitung 5
<br>
<br>&nbsp;
<dt><b>Interrupt Level 6 failed</b></dt><dd> Der Interrupt Level 6 ist fehlerhaft
<br>Testen Sie den COMBEL, MFP und die Interruptleitung 6
<br>
<br>&nbsp;
<dt><b>Interrupt Priority failed</b></dt><dd> Der Interrupt-Priorit&auml;tstest ist fehlgeschlagen
<br>MFP, COMBEL und die Interruptleitungen testen
<br>
<br>&nbsp;
<dt><b>Ram failed</b></dt><dd> Der Ramtest ist fehlgeschlagen
<br>Den COMBEL sowie alle Adress- und Datenleitungen testen
<br>
<br>&nbsp;
</dl>
<p>An dieser Stelle ist &uuml;brigens f&uuml;r jeden gut zu erkennen
das es nicht m&ouml;glich ist mit dem Testmodul alleine bestimmte
Fehler des <a href="0302.htm" target="UDOcon">Falcon F030</a> zu erkennen. Nur mit den Externen und
Zus&auml;tzlichen Testbaugruppen ist ein ausf&uuml;hrlicher und
kompletter Test des Computers m&ouml;glich.
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p>Wenn Sie eine defekte Einheit reparieren wollen sollten Sie sich
so weit wie m&ouml;glich an die einzelnen Schritte der Grafiken
halten. Nur so ist es m&ouml;glich gezielt und ohne sich zu verheddern
einen bestimmten Fehler zu finden. Sehr viele Fehler werden damit
beginnen das der Falcon keine Bildschirmausgabe erzeugt.
</p>
<p>Sollten Sie keine Bildschirmausgabe haben k&ouml;nnen Sie auch
zuerst versuchen die H- und Vsync. Signale im Falcon zu lokalieren.
Werden die nicht erzeugt liegt das meistens an einem defekten COMBEL
<br>
<br>
</p>
<p>Abschlie&szlig;end bleibt noch zu sagen das das hier auf keinen
Fall und unter keinen Umst&auml;nden das Manual f&uuml;r eben das
Atari-Testkit ersetzt wird!
<br>Es k&ouml;nnen hier lediglich einige erg&auml;nzende Tips und
&uuml;bersetzte Fehlermeldungen wiedergegeben werden um so die Arbeit,
eine n&ouml;tige Reparatur am Atari <a href="0302.htm" target="UDOcon">Falcon F030</a> wesentlich zu
erleicherten
<br>Auch hat diese Zusammenstellung keinen Anspruch auf
Vollst&auml;ndigkeit
<br>Es werden nur Punkte wiedergegeben die ich selber schon benutzen
musste
<br>
</p>
<p><tt> Note: </tt>
</p>
<p>Beachten Sie bitte das bei einmaligen einstecken eines Testmoduls
in einen Atari <a href="0302.htm" target="UDOcon">Falcon F030</a> dessen Setup im <a href="040101.htm" target="UDOcon">NVRAM</a> komplett durch das
Default-Setting des Testkits &uuml;berschrieben wird. Keine Panik, Ihr
Rechner bootet nachher wie gewohnt auch von der IDE-Festplatte.
Allerdings ist die Landessprache, die Keyboardbelegung und die
Bildschirmaufl&ouml;sung verstellt.
<br>Ebenso stimmt die Uhrzeit und das Datum nicht mehr
<br>
</p>
<p>Benutzen Sie folgende Programme von einer 1.4 MB HD-Diskette:
<br>
</p>
<p>BOOTKONF.PRG 1.3 von Uwe Seimet
<br>CONFIG.PRG von Atari Corp.
<br>RESETNVR.PRG von Atari Corp.
<br>
</p>
<p>BOOTKONF.PRG dient dazu alle <a href="040101.htm" target="UDOcon">NVRAM</a>-Parameter einzustellen.
<br>Mit CONFIG.PRG stellen Sie den Rechner auf ihre Landessprache ein.
<br>RESETNVR.PRG sollten Sie auf einer Diskette im Autoordner liegen
haben, das ist f&uuml;r den Fall in dem ihr Falcon nichts mehr tut,
booten Sie dann einmal von dieser Diskette. Alle Parametereingaben aus
beiden Programmen werden erst nach einem erneuten Kaltstart des
Systems aktiv!
<br>
</p>
<p>F&uuml;r Notf&auml;lle sollten Sie immer eine Diskette mir diesen
Programmen bereit liegen haben. Der Fall tritt auch ein wenn Sie das
<a href="040101.htm" target="UDOcon">NVRAM</a> auswechseln m&uuml;ssen.
<br>
<br>
</p>
<p>&Uuml;bersetzung: robscha@data.rhein-main.de
<br>
<br>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de">Robert Schaffner</a> (<a href="mailto:support@doitarchive.de">support@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Dezember 2003</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_up.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_lf.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="030802.htm" target="UDOcon"><img src="udo_rg.gif" alt="FPU Error Trace" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>
